<html lang="de" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="C:\Users\durmu\Documents\AWP\Projektarbeit\HTML\CSS\index.css">
    <title> Titel </title>
  </head>
  <body class="body">
    <!-- Ãœberschrift der Login seite -->
    <h1 class="Login">Willkommen!</h1>

    <form action="src/backend.php" method="POST" id="loginForm">
        <label for="username">Benutzername:</label><br>
        <input type="text" id="Username" name="Username"><br>
        <label for="password">Password:</label><br>
        <input type="password" id="pwd" name="pwd"><br>
        <input type="submit" value="Submit">
    </form>

    <p id="demo">test</p>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script>
        document.getElementById('loginForm').addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent the default form submission

            let username = document.getElementById("Username").value;
            let password = document.getElementById("pwd").value;

            console.log(username);
            console.log(password);

            fetch('src/backend.php?action=login', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded'
                },
                body: `username=${encodeURIComponent(username)}&password=${encodeURIComponent(password)}`
            })
            .then((response) => {
                if (!response.ok) {
                    throw new Error("Something went wrong!");
                }
                return response.json();
            })
            .then((data) => {
                console.log(data);
            })
            .catch((error) => {
                console.error('Error:', error);
            });
        });
    </script>


</html>
