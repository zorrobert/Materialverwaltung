<html lang="de" dir="ltr">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <title> Titel </title>
  </head>
  <body style="background-color: #036588;"></body>
  <body class="body">
    <!-- Ãœberschrift der Login seite -->
    <div class="grid text-center">
      <!-- Logo -->
      <img src="Website_LogoV1.png" alt="Logo" style="width: 150px; height: auto; margin-top: 20px;">
      <h1 class="title">Herzlich Willkommen!</h1>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <form action="src/backend.php" method="POST" id="loginForm">
      <div class="bg-#8DC877">
        <input type="hidden" name="action" value="login">
        <input type="text" name="username" placeholder="Username" id="username" required><br>
    </p>
      </div>
        <input type="password" name="password" placeholder="Password" id="password" required><br>
    </p>
        <button type="submit" class="btn" value="Login" style="background-color: lightslategray;" >Login</button>
    </form>



    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script>
        document.getElementById('loginForm').addEventListener('login', function(event) {
            event.preventDefault(); // Prevent the default form submission

            let username = document.getElementById("Username").value;
            let password = document.getElementById("pwd").value;

            console.log(username);
            console.log(password);

            fetch('src/backend.php?action=login', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded'
                },
                body: `username=${encodeURIComponent(username)}&password=${encodeURIComponent(password)}`
            })
            .then((response) => {
                if (!response.ok) {
                    throw new Error("Something went wrong!");
                }
                return response.json();
            })
            .then((data) => {
               // window.location.assign("/index.html")
                window.location.assign("/index.html");
                console.log(data);
            })
            .catch((error) => {
                console.error('Error:', error);
            });
        });
    </script>

  </body>
</html>
